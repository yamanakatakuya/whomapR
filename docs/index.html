<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Choropleth and bubble maps of the world and WHO regions, using the latest WHO geoJSON files • whomapper</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Choropleth and bubble maps of the world and WHO regions, using the latest WHO geoJSON files">
<meta property="og:description" content="Loads WHO geoJSON files (2025) and provides a wrapper to ggplot2. Adapted from scripts of whomap package developed by Philippe Glaziou.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">whomapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/yamanakatakuya/whomap/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="r-package-for-whomap-and-bubble-map">R package for whomap and bubble map<a class="anchor" aria-label="anchor" href="#r-package-for-whomap-and-bubble-map"></a>
</h1></div>
<p>version 0.1.7</p>
<p>Draws choropleth and bubble maps of the world, based on the 2025 (latest) WHO shapefiles (without simplifications to be compliant to WHO legal requirements). This package and functions of whomapper and bubblemapper are the updated version of whomap package developed by Philippe Glaziou.</p>
<div class="section level2">
<h2 id="install">Install:<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p>remotes::install_github(‘yamanakatakuya/whomapper’)</p>
</div>
<div class="section level2">
<h2 id="usage">Usage:<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="whomapper">whomapper<a class="anchor" aria-label="anchor" href="#whomapper"></a>
</h3>
<p>whomapper &lt;- function (X = data.frame(iso3 = NA, var = NA), colours = NULL, projection = “robin”, offset = NULL, low_col = ‘#BDD7E7’, high_col = ‘#08519C’, line_col = ‘black’, line_width = 0.3, map_title = ““, legend_title =”“, water_col = ‘white’, na_label = ‘No data’, na_col = ‘white’, disclaimer = FALSE, legend_pos = c(0.17,0.42), zoom = ‘Global’ )</p>
<p>X is a dataframe. It must contain a variable named “iso3” holding country ISO3 codes, and a second categorical variable named “var”. There should be no more than 6 categories (excluding “No data” and “Not applicable”) for optimal display of the legend. The category labels should be short.</p>
<p>15 different map projections are allowed, by changing “projection” (default setting is “eck4”, Eckert IV Projection). Options for projection: “eqc”, “moll”, “robin”, “eck1”, “eck2”, “eck3”, “eck4”, “eck5”, “eck6”, “hammer”, “goode”, “sinu”, “aitoff”, “bonne +lat_1=45”, “bonne +lat_1=90”</p>
<p>Zoom setting provides an option to produce WHO regional map. Options for zoom: “Global”, “AFR”, “AMR”, “EMR”, “EUR”, “SEA”, “WPR”</p>
</div>
<div class="section level3">
<h3 id="bubblemapper">bubblemapper<a class="anchor" aria-label="anchor" href="#bubblemapper"></a>
</h3>
<p>bubblemapper &lt;- function (X = data.frame(iso3 = NA, size = NA), projection = “moll”, offset = 10.8, bubble_col = ‘dodgerblue’, bubble_alpha = 0.4, scale_breaks, scale_limits, scale_labels, line_col = ‘black’, line_width = 0.3, map_title = ““, legend_title =”“, water_col = ‘white’, na_label = ‘No data’, na_col = ‘white’, disclaimer = FALSE, legend_pos = c(0.17,0.42) )</p>
<p>X is a dataframe. It must contain a variable named “iso3” holding country ISO3 codes, and a second numeric variable named “size”.</p>
</div>
<div class="section level3">
<h3 id="add_marker">add_marker<a class="anchor" aria-label="anchor" href="#add_marker"></a>
</h3>
<p>add_marker &lt;- function(iso3 = NA_character_, shape = 17, col = ‘red’, size = 3, alpha = 1, lab = ’’, projection = “robin”, offset = 10.8)</p>
<p>iso3 is a vector. It must contain a variable named “iso3” holding country ISO3 codes. This function is for adding the second layer of country markers on a map produced by whomapper() or bubblemapper().</p>
</div>
<div class="section level3">
<h3 id="add_annotate">add_annotate<a class="anchor" aria-label="anchor" href="#add_annotate"></a>
</h3>
<p>add_annotate &lt;- function( geom, x = NULL, y = NULL, xend = NULL, yend = NULL, xmin = NULL, ymin = NULL, xmax = NULL, ymax = NULL, linewidth = NULL, size = NULL, col = NULL, lab = NULL, include_coord = FALSE, default_crs = 4326 )</p>
<p>This function is for adding texts, shapes, segments etc using ggplot2::annotate (with CRS adjustment) on a map produced by whomapper() or bubblemapper(). When add_annotate is used multiple times, only the first annotate requires “include_coord = TRUE”.”</p>
</div>
<div class="section level3">
<h3 id="map_builder">map_builder<a class="anchor" aria-label="anchor" href="#map_builder"></a>
</h3>
<p>This is a script that has common codes i.e. map data transformation, WHO disclaimer, and common map layers and theme settings, used both by whomapper.R and bubblemapper.R</p>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples:<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="oceans-and-lakes-in-white-with-equirectangular-projection">Oceans and lakes in white, with Equirectangular projection<a class="anchor" aria-label="anchor" href="#oceans-and-lakes-in-white-with-equirectangular-projection"></a>
</h3>
<p>brics &lt;- data.frame(iso3=c(‘BRA’,‘CHN’,‘IND’,‘RUS’,‘ZAF’), var=1)</p>
<p>whomapper(brics, colour=‘red’, legend_pos=‘none’, water_col = ‘white’, projection = “eqc”)</p>
<p><img width="3000" height="1800" alt="p1" src="https://github.com/user-attachments/assets/5f54fbb2-999e-434c-873a-2874aebfdabc"></p>
</div>
<div class="section level3">
<h3 id="oceans-and-lakes-in-light-blue-with-mollweide-projection">Oceans and lakes in light blue, with Mollweide projection<a class="anchor" aria-label="anchor" href="#oceans-and-lakes-in-light-blue-with-mollweide-projection"></a>
</h3>
<p>whomapper(brics, colour=‘red’, legend_pos=‘none’, water_col = ‘white’, projection = “moll”)</p>
<p><img width="3000" height="1800" alt="p2" src="https://github.com/user-attachments/assets/19031a47-5a65-4c89-a61c-c2ea85a1c5ac"></p>
</div>
<div class="section level3">
<h3 id="oceans-and-lakes-in-white-with-eckert-iv-projection">Oceans and lakes in white, with Eckert IV projection<a class="anchor" aria-label="anchor" href="#oceans-and-lakes-in-white-with-eckert-iv-projection"></a>
</h3>
<p>brics$var &lt;- as.factor(1:5) whomapper(brics, legend_title=‘BRICS’, water_col = ‘white’, projection = “eck4”)</p>
<p><img width="3000" height="1800" alt="p3" src="https://github.com/user-attachments/assets/e29f9fe8-6e85-4304-8be1-3ac190a57cbc"></p>
</div>
<div class="section level3">
<h3 id="recentered-on-the-region-asia-pacific-with-the-legend-repositioned-with-robinson-projection">Recentered on the region Asia-Pacific, with the legend repositioned, with Robinson projection<a class="anchor" aria-label="anchor" href="#recentered-on-the-region-asia-pacific-with-the-legend-repositioned-with-robinson-projection"></a>
</h3>
<p>whomapper(brics, legend_title = ‘BRICS’, legend_pos = c(0.7, 0.52), offset = 150, projection = “robin”)</p>
<p><img width="3000" height="1800" alt="p4" src="https://github.com/user-attachments/assets/d17be31a-0a5d-4fe1-8c5e-596e0e5718ab"></p>
</div>
<div class="section level3">
<h3 id="bubble-map-with-add_annotate-with-hammer-projection">Bubble map with add_annotate, with Hammer projection<a class="anchor" aria-label="anchor" href="#bubble-map-with-add_annotate-with-hammer-projection"></a>
</h3>
<p>brics$size &lt;- c(1e4, 1e5, 3e5, 5e5, 1e6)</p>
<p>bubblemapper(brics,legend_title = “Size of value”, bubble_col = “purple”, scale_breaks = c(1e4, 2.5e5, 5e5, 1e6), scale_limits = c(1e4, 1e6), scale_labels = c(“10 000”,“250 000”,“500 000”,“1 000 000”), legend_pos = c(0.17,0.54), projection = “hammer”) +</p>
<p>add_annotate(‘text’, lab=‘South Africa’, x=50, y=-30, size=3, include_coord = TRUE) +</p>
<p>add_annotate(“segment”,x=25, xend=45, y=-29, yend=-29) +</p>
<p>add_annotate(‘text’, lab=‘Russian Federation’, x=150, y=83, size=3) +</p>
<p>add_annotate(“segment”,x=89, xend=90, y=58, yend=82)</p>
<p><img width="3000" height="1800" alt="p5" src="https://github.com/user-attachments/assets/9fe47923-445a-4978-aa89-2bf4d62a8f8c"></p>
</div>
<div class="section level3">
<h3 id="who-regional-map-an-example-of-the-western-pacific-region-with-robinson-projection">WHO regional map (an example of the Western Pacific Region), with Robinson projection<a class="anchor" aria-label="anchor" href="#who-regional-map-an-example-of-the-western-pacific-region-with-robinson-projection"></a>
</h3>
<p>wpr_sample5 &lt;- data.frame(iso3=c(‘AUS’,‘CHN’,‘PHL’,‘IDN’,‘VNM’), var=as.factor(1:5))</p>
<p>whomapper(wpr_sample5, brewer.pal(5, “PuRd”), legend_title = ’’, legend_pos = c(0.2, 0.4), zoom = “WPR”)</p>
<p><img width="3000" height="1800" alt="p6" src="https://github.com/user-attachments/assets/04ca1eaf-9e9e-4e58-a956-4c741f1c83e1"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/yamanakatakuya/whomap/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/yamanakatakuya/whomap/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing whomapper</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Takuya Yamanaka <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0807-2370" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Takuya Yamanaka.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
